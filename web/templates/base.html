<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}RistoSuite{% endblock %}</title>
    <!--<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">-->
    <!--<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">-->
    <!--<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap">-->
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='./Ristosuite.ico') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='./bootstrap/css/bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='./css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='./bootstrap-icons/bootstrap-icons.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='./google-font/font.css') }}">
</head>
<body>
<div class="container-xxl p-3">

<nav class="navbar navbar-expand-xl navbar-dark mb-2" style="background: transparent;">
        <img class="img-fluid navbar-brand" src="{{ url_for('static', filename='./Logo_WebApp_Ristosuite.png') }}" alt="">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" 
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" 
                aria-expanded="true" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="navbar-collapse collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mx-auto me-auto mb-2 mb-lg-0 text-center ">
                <li class="nav-item"><a class="nav-link check" href="/"><i class="bi bi-house-door-fill"></i></a></li>
                <li class="nav-item"><a class="nav-link check modulo-link" data-modulo="ARTICOLI" href="{{ url_for('lista_articoli') }}">Articoli</a></li>
                <li class="nav-item"><a class="nav-link check modulo-link" data-modulo="TAVOLI" href="{{ url_for('lista_tavoli') }}">Tavoli</a></li>
                <li class="nav-item"><a class="nav-link check modulo-link" data-modulo="ORDINI" href="{{ url_for('lista_ordini') }}">Ordini</a></li>
                <li class="nav-item"><a class="nav-link check modulo-link" data-modulo="OPERATORI" href="{{ url_for('operatori') }}">Operatori</a></li>
                <li class="nav-item"><a class="nav-link check modulo-link" data-modulo="INGREDIENTI" href="{{ url_for('lista_ingredienti') }}">Ingredienti</a></li>
                <li class="nav-item"><a class="nav-link check modulo-link" data-modulo="FORNITORI" href="{{ url_for('lista_fornitori') }}">Fornitori</a></li>
                <li class="nav-item"><a class="nav-link check modulo-link" data-modulo="ALLERGENI" href="{{ url_for('lista_allergeni') }}">Allergeni</a></li>
                <li class="nav-item"><a class="nav-link check modulo-link" data-modulo="CATEGORIE" href="{{ url_for('lista_categorie') }}">Categorie</a></li>
                <li class="nav-item"><a class="nav-link check modulo-link" data-modulo="STATISTICHE_ORDINI" href="{{ url_for('statistiche_ordini') }}">ğŸ“Š</a></li>
            </ul>
            {% if session.user %}
            <div class="mx-2">
                <ul class="navbar-nav mx-3 me-3 text-center ">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" id="dropdown03" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            {{ session.user.nome }} {{ session.user.cognome }} <i class="bi bi-person-circle"></i>
                        </a>
                        <div class="dropdown-menu text-center" aria-labelledby="dropdown03">
                            <button class="dropdown-item btn d-flex justify-content-center"><a href="{{url_for('orari')}}">Orario  <i class="bi bi-clock-fill"></i></a></button>
                            <button class="dropdown-item btn d-flex justify-content-center"><a href="{{url_for('logout')}}">Logout  <i class="bi bi-box-arrow-right"></i></a></button>
                        </div>
                    </li>
                </ul>
            </div>
            {% endif %}
        </div>
</nav>
</div>
<!-- Toast Benvenuto Moderno -->
<div id="Benvenuto" class="toast-container position-fixed top-4 end-0 p-3" style="z-index: 900;">
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% for category, message in messages %}
            {% if category == 'benvenuto' %}
            <div class="toast show border-0 shadow-lg rounded-3 overflow-hidden "  
                 role="alert" aria-live="assertive" aria-atomic="true"
                 style="
                    background: rgba(255, 255, 255, 0.3);
                    backdrop-filter: blur(12px) saturate(180%);
                    -webkit-backdrop-filter: blur(12px) saturate(180%);
                    border-radius: 1rem;
                 ">
                <div class="toast-header border-0 bg-transparent">
                    <img src="{{ url_for('static', filename='./Ristosuite.ico') }}" 
                         class="rounded me-2" style="max-width: 24px;" alt="logo"> 
			        <strong class="me-auto text-dark">RistoSuite</strong> 
                </div> 
                <div class="toast-body text-dark fw-light ">
                    <p class="m-0">âœ¨ Benvenuto in <strong>RistoSuite</strong>, {{message}}!</p> 
                </div>
            </div>
            {% endif %}
        {% endfor %}
    {% endwith %}
</div>
<!-- Toast Licenza -->
<div id="Licenza" class="toast-container position-fixed top-0 start-0 p-3" style="z-index: 1100;">
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% for category, message in messages %}
            {% if category in ['success', 'warning', 'danger'] %}
            <div class="toast show border-0 shadow-lg rounded-3 overflow-hidden
                        {% if category == 'success' %} bg-success text-white {% endif %}
                        {% if category == 'warning' %} bg-warning text-dark {% endif %}
                        {% if category == 'danger' %} bg-danger text-white {% endif %}"
                 role="alert" aria-live="assertive" aria-atomic="true"
                 style="                    background: rgba(255, 255, 255, 0.25);
                    backdrop-filter: blur(14px) saturate(180%);
                    -webkit-backdrop-filter: blur(14px) saturate(180%);
                    border-radius: 1rem;">
                <div class="toast-body fw-light">
                    {{ message }}
                </div>
            </div>
            {% endif %}
        {% endfor %}
    {% endwith %}
</div>
<!-- Toast Ordini Moderno -->
<div id="Ordini" class="toast-container position-fixed top-0 end-0 p-4" style="z-index: 1100;">
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% for category, message in messages %}
            {% if category == 'ordini' %}
            <div class="toast show border-0 shadow-lg rounded-4 overflow-hidden mb-3"
                 role="alert" aria-live="assertive" aria-atomic="true"
                 data-bs-delay="5000" data-bs-autohide="true"
                 style="
                    background: rgba(255, 255, 255, 0.25);
                    backdrop-filter: blur(14px) saturate(180%);
                    -webkit-backdrop-filter: blur(14px) saturate(180%);
                    border-radius: 1rem;
                 ">
                <div class="toast-header border-0 bg-transparent">
                    <img src="{{ url_for('static', filename='./Ristosuite.ico') }}" 
                         class="rounded me-2" style="max-width: 22px;" alt="logo"> 
			        <strong class="me-auto text-dark">Nuovo Ordine</strong>
                    <small class="text-muted">adesso</small>
                </div>
                <div class="toast-body text-dark fw-light">
                    <p class="m-0">ğŸ›ï¸ {{ message }}</p>
                </div>
            </div>
            {% endif %}
        {% endfor %}
    {% endwith %}
</div>

<div class="container pb-5">
    <script src="{{ url_for('static', filename='./js/chart.js') }}"></script>
    {% block content %}{% endblock %}


<!-- POPUP DI ASSISTENZA -->
<button id="supportBtn">Chiedi supporto</button>
<div id="supportPopup">
    <div class="popup-content">
        <h3 style="margin-bottom: 1rem; color: #162b53">Supporto Ristosuite</h3>
        <p>âœ‰ï¸ â¤ <a href="mailto:amministrazione.ristosuite@gmail.com">amministrazione.ristosuite@gmail.com</a></p>
        <p>âœ‰ï¸ â¤ <a href="mailto:assistenza.ristosuite@gmail.com">assistenza.ristosuite@gmail.com</a></p>
        <p>ğŸ“ â¤ +39 351-3019910</p>
        <p>ğŸ“ â¤ +39 339-2759711</p>
        <button id="closeSupport">Ã—</button>
    </div>
</div>
<!-- ORARIO MINIMAL LIQUID GLASS -->
<div id="clock" class="">00:00:00</div>

</div>

<!-- Modal generico -->
<div id="inactiveModuleModal" class="fade-modal" style="display:none">
  <div class="modal-content">
    <h3 style="margin-bottom: 1rem">Modulo non attivo</h3>
    <p id="inactiveMessage"></p>
    <div class="modal-buttons">
      <button id="closeInactiveBtn" class="btn btn-secondary">Chiudi</button>
    </div>
  </div>
</div>

<script src="{{ url_for('static', filename='./bootstrap/js/bootstrap.bundle.min.js') }}"></script>
<script src="{{ url_for('static', filename='./js/script.js') }}">

</script>

</body>
</html>

